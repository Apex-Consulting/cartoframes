document
  .querySelector('as-responsive-content')
  .addEventListener('ready', () => {
    const show_info = '{{show_info}}' === 'True';
    const layers = {{ layers|tojson }};
    const bounds = {{ bounds }};
    const camera = {{ camera|tojson }};
    const mapboxtoken = '{{mapboxtoken}}';
    const basemap = '{{basemap}}';
    const basecolor = '{{basecolor}}';
    const has_legends = '{{has_legends}}' === 'True';
    const is_static = '{{is_static}}' === 'True';
    const default_legend = '{{default_legend}}' === 'True';

    init({
      show_info,
      layers,
      bounds,
      camera,
      mapboxtoken,
      basemap,
      basecolor,
      has_legends,
      is_static,
      default_legend
    });
});